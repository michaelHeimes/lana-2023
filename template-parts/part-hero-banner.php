<?php
if( !empty($args['hero-banner']) ) {
	$hero_banner = $args['hero-banner'];
}
if( !empty( get_sub_field('hero_banner') ) ) {
	$hero_banner = get_sub_field('hero_banner');
}
$background_image = $hero_banner['background_image'];
$add_grid_overlay = $hero_banner['add_grid_overlay'];
$eyebrow = $hero_banner['eyebrow'];
$pre_heading_text = $hero_banner['pre_heading_text'];
$large_heading = $hero_banner['large_heading'];
$button_link = $hero_banner['button_link'];
$bottom_right_logo = $hero_banner['bottom_right_logo'];
?>
<header class="entry-header hero-banner">
	<div class="grid-container">
		<div class="grid-x grid-padding-x">
			<div class="cell small-12 relative">
				<div class="inner has-object-fit grid-x flex-dir-column align-center">
					<?php if( !empty( $background_image ) ) {
						$imgID = $background_image['ID'];
						$img_alt = trim( strip_tags( get_post_meta( $imgID, '_wp_attachment_image_alt', true ) ) );
						$img = wp_get_attachment_image( $imgID, 'full', false, [ "class" => "object-fit cover", "alt"=>$img_alt] );
						echo $img;
						echo $img;
						if( $add_grid_overlay == true ) {
							echo '<div class="mask grid-pattern white over-image"></div>';
						}
					}?>
					<div class="content-wrap relative">
						<?php if( !empty($eyebrow) ) {
							echo '<h6 class="color-white">' . esc_attr( $eyebrow ) . '</h6>';
						};?>
						<?php if( !empty($pre_heading_text) ) {
							echo '<h4 class="color-white">' . esc_attr( $pre_heading_text ) . '</h4>';
						};?>
						<?php if( !empty($large_heading) ) {
							echo '<div class="large-heading color-white">' . $large_heading . '</div>';
						};?>
						<?php 
						$link = $button_link;
						if( $link ): 
							$link_url = $link['url'];
							$link_title = $link['title'];
							$link_target = $link['target'] ? $link['target'] : '_self';
							?>
						<div class="btn-wrap">
							<a class="button granite-outline" href="<?php echo esc_url( $link_url ); ?>" target="<?php echo esc_attr( $link_target ); ?>"><?php echo esc_html( $link_title ); ?></a>
						</div>
						<?php endif; ?>
					</div>
					<?php if( !empty( $bottom_right_logo ) ) {
						$imgID = $bottom_right_logo['ID'];
						$img_alt = trim( strip_tags( get_post_meta( $imgID, '_wp_attachment_image_alt', true ) ) );
						$img = wp_get_attachment_image( $imgID, 'full', false, [ "class" => "", "alt"=>$img_alt] );
						echo '<div class="bl-img-wrap">';
						echo $img;
						echo '</div>';
					}?>
				</div>	
				<?php if( is_front_page() ):?>
					<a class="next-link grid-x flex-dir-column align-middle" href="#next" data-smooth-scroll data-animation-duration="300" data-animation-easing="swing" data-offset="45">
						<svg width="9" height="76" viewBox="0 0 9 76" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M0.85 3.31C0.85 2.79333 0.938333 2.32667 1.115 1.91C1.295 1.49667 1.55 1.155 1.88 0.885C2.21333 0.618333 2.60833 0.445 3.065 0.365L3.23 1.455C2.79 1.565 2.44667 1.795 2.2 2.145C1.95667 2.495 1.835 2.90333 1.835 3.37C1.835 3.66 1.88 3.92667 1.97 4.17C2.06333 4.41333 2.195 4.60833 2.365 4.755C2.53833 4.905 2.745 4.98 2.985 4.98C3.115 4.98 3.23 4.95667 3.33 4.91C3.43 4.86667 3.51667 4.805 3.59 4.725C3.66667 4.64833 3.73167 4.55333 3.785 4.44C3.84167 4.33 3.89 4.20833 3.93 4.075L4.475 2.23C4.52833 2.05 4.59667 1.86667 4.68 1.68C4.76667 1.49333 4.87833 1.32167 5.015 1.165C5.155 1.01167 5.32667 0.886667 5.53 0.79C5.73667 0.693333 5.98667 0.645 6.28 0.645C6.72333 0.645 7.09833 0.758333 7.405 0.985C7.715 1.215 7.94833 1.525 8.105 1.915C8.265 2.305 8.345 2.74167 8.345 3.225C8.33833 3.71167 8.25167 4.14667 8.085 4.53C7.91833 4.91667 7.67833 5.23667 7.365 5.49C7.055 5.74667 6.67833 5.92333 6.235 6.02L6.045 4.9C6.315 4.85 6.54667 4.74333 6.74 4.58C6.93667 4.41667 7.08667 4.21667 7.19 3.98C7.29667 3.74333 7.35167 3.48667 7.355 3.21C7.36167 2.94333 7.32167 2.69833 7.235 2.475C7.14833 2.255 7.02667 2.07833 6.87 1.945C6.71333 1.815 6.53333 1.75 6.33 1.75C6.13 1.75 5.96833 1.80833 5.845 1.925C5.72167 2.04167 5.62333 2.185 5.55 2.355C5.48 2.52833 5.42167 2.7 5.375 2.87L5 4.2C4.95333 4.36667 4.89 4.555 4.81 4.765C4.73333 4.97833 4.625 5.18333 4.485 5.38C4.345 5.58 4.15833 5.745 3.925 5.875C3.695 6.005 3.405 6.07 3.055 6.07C2.69167 6.07 2.37167 5.99667 2.095 5.85C1.82167 5.70333 1.59167 5.50167 1.405 5.245C1.22167 4.99167 1.08333 4.69833 0.99 4.365C0.896667 4.03167 0.85 3.68 0.85 3.31ZM0.85 10.6405C0.85 9.92055 1.00667 9.30721 1.32 8.80055C1.63667 8.29388 2.07667 7.90555 2.64 7.63555C3.20333 7.36888 3.85667 7.23555 4.6 7.23555C5.34333 7.23555 5.99667 7.36888 6.56 7.63555C7.12333 7.90555 7.56167 8.29388 7.875 8.80055C8.19167 9.30721 8.35 9.92055 8.35 10.6405C8.35 11.4705 8.14 12.1572 7.72 12.7005C7.3 13.2472 6.735 13.6272 6.025 13.8405L5.74 12.7805C6.24333 12.6405 6.63833 12.3905 6.925 12.0305C7.21167 11.6739 7.355 11.2105 7.355 10.6405C7.355 10.1305 7.24 9.70555 7.01 9.36555C6.78 9.02555 6.45833 8.76888 6.045 8.59555C5.63167 8.42555 5.15 8.34055 4.6 8.34055C4.05 8.33721 3.56833 8.42055 3.155 8.59055C2.74167 8.76388 2.42 9.02055 2.19 9.36055C1.96 9.70388 1.845 10.1305 1.845 10.6405C1.845 11.2105 1.98833 11.6739 2.275 12.0305C2.565 12.3905 2.96 12.6405 3.46 12.7805L3.175 13.8405C2.465 13.6272 1.9 13.2472 1.48 12.7005C1.06 12.1572 0.85 11.4705 0.85 10.6405ZM1 15.4402H8.2V18.3502C8.2 18.4202 8.19667 18.5069 8.19 18.6102C8.18667 18.7136 8.17667 18.8119 8.16 18.9052C8.09667 19.3052 7.96 19.6386 7.75 19.9052C7.54 20.1752 7.275 20.3769 6.955 20.5102C6.635 20.6436 6.28167 20.7102 5.895 20.7102C5.32167 20.7102 4.82667 20.5636 4.41 20.2702C3.99667 19.9769 3.73833 19.5369 3.635 18.9502L3.585 18.5252V16.4852H1V15.4402ZM1 19.6502L3.93 18.2302L4.2 19.2852L1 20.8452V19.6502ZM4.575 16.4852L4.575 18.3102C4.575 18.3769 4.57833 18.4502 4.585 18.5302C4.59167 18.6136 4.60333 18.6919 4.62 18.7652C4.67 18.9786 4.76167 19.1502 4.895 19.2802C5.03167 19.4102 5.18833 19.5036 5.365 19.5602C5.54167 19.6169 5.71833 19.6452 5.895 19.6452C6.07167 19.6452 6.24667 19.6169 6.42 19.5602C6.59667 19.5036 6.75167 19.4102 6.885 19.2802C7.02167 19.1502 7.115 18.9786 7.165 18.7652C7.185 18.6919 7.19833 18.6136 7.205 18.5302C7.21167 18.4502 7.215 18.3769 7.215 18.3102V16.4852H4.575ZM0.85 25.4491C0.85 24.7291 1.00667 24.1158 1.32 23.6091C1.63667 23.1025 2.07667 22.7141 2.64 22.4441C3.20333 22.1775 3.85667 22.0441 4.6 22.0441C5.34333 22.0441 5.99667 22.1775 6.56 22.4441C7.12333 22.7141 7.56167 23.1025 7.875 23.6091C8.19167 24.1158 8.35 24.7291 8.35 25.4491C8.35 26.1658 8.19167 26.7775 7.875 27.2841C7.56167 27.7941 7.12333 28.1825 6.56 28.4491C5.99667 28.7158 5.34333 28.8491 4.6 28.8491C3.85667 28.8491 3.20333 28.7158 2.64 28.4491C2.07667 28.1825 1.63667 27.7941 1.32 27.2841C1.00667 26.7775 0.85 26.1658 0.85 25.4491ZM1.845 25.4491C1.83833 25.9591 1.95 26.3825 2.18 26.7191C2.41333 27.0591 2.73667 27.3141 3.15 27.4841C3.56667 27.6541 4.05 27.7391 4.6 27.7391C5.15 27.7391 5.63 27.6541 6.04 27.4841C6.45333 27.3141 6.775 27.0591 7.005 26.7191C7.235 26.3825 7.35167 25.9591 7.355 25.4491C7.36167 24.9391 7.25 24.5141 7.02 24.1741C6.79 23.8375 6.46667 23.5841 6.05 23.4141C5.63333 23.2441 5.15 23.1575 4.6 23.1541C4.05 23.1508 3.56833 23.2341 3.155 23.4041C2.745 23.5741 2.425 23.8291 2.195 24.1691C1.965 24.5125 1.84833 24.9391 1.845 25.4491ZM1 30.4465H8.2V31.4915H1.985V34.7515H1V30.4465ZM1 36.2004H8.2V37.2454H1.985V40.5054H1L1 36.2004ZM1 43.8582H8.2V46.1132C8.2 46.1799 8.19833 46.3032 8.195 46.4832C8.19167 46.6665 8.17833 46.8415 8.155 47.0082C8.085 47.5715 7.88333 48.0449 7.55 48.4282C7.21667 48.8149 6.79333 49.1065 6.28 49.3032C5.77 49.4999 5.21 49.5982 4.6 49.5982C3.98667 49.5982 3.42333 49.4999 2.91 49.3032C2.4 49.1065 1.97833 48.8149 1.645 48.4282C1.315 48.0449 1.115 47.5715 1.045 47.0082C1.02167 46.8415 1.00833 46.6665 1.005 46.4832C1.00167 46.3032 1 46.1799 1 46.1132V43.8582ZM1.995 44.9282V46.1132C1.995 46.2265 1.99833 46.3615 2.005 46.5182C2.01167 46.6749 2.025 46.8132 2.045 46.9332C2.115 47.2999 2.27333 47.5965 2.52 47.8232C2.77 48.0532 3.07667 48.2215 3.44 48.3282C3.80333 48.4349 4.19 48.4882 4.6 48.4882C5.02333 48.4882 5.415 48.4332 5.775 48.3232C6.13833 48.2132 6.44167 48.0432 6.685 47.8132C6.93167 47.5865 7.08833 47.2932 7.155 46.9332C7.17833 46.8132 7.19167 46.6732 7.195 46.5132C7.20167 46.3565 7.205 46.2232 7.205 46.1132V44.9282H1.995ZM0.85 54.2675C0.85 53.5475 1.00667 52.9342 1.32 52.4275C1.63667 51.9208 2.07667 51.5325 2.64 51.2625C3.20333 50.9958 3.85667 50.8625 4.6 50.8625C5.34333 50.8625 5.99667 50.9958 6.56 51.2625C7.12333 51.5325 7.56167 51.9208 7.875 52.4275C8.19167 52.9342 8.35 53.5475 8.35 54.2675C8.35 54.9842 8.19167 55.5958 7.875 56.1025C7.56167 56.6125 7.12333 57.0008 6.56 57.2675C5.99667 57.5342 5.34333 57.6675 4.6 57.6675C3.85667 57.6675 3.20333 57.5342 2.64 57.2675C2.07667 57.0008 1.63667 56.6125 1.32 56.1025C1.00667 55.5958 0.85 54.9842 0.85 54.2675ZM1.845 54.2675C1.83833 54.7775 1.95 55.2008 2.18 55.5375C2.41333 55.8775 2.73667 56.1325 3.15 56.3025C3.56667 56.4725 4.05 56.5575 4.6 56.5575C5.15 56.5575 5.63 56.4725 6.04 56.3025C6.45333 56.1325 6.775 55.8775 7.005 55.5375C7.235 55.2008 7.35167 54.7775 7.355 54.2675C7.36167 53.7575 7.25 53.3325 7.02 52.9925C6.79 52.6558 6.46667 52.4025 6.05 52.2325C5.63333 52.0625 5.15 51.9758 4.6 51.9725C4.05 51.9692 3.56833 52.0525 3.155 52.2225C2.745 52.3925 2.425 52.6475 2.195 52.9875C1.965 53.3308 1.84833 53.7575 1.845 54.2675ZM1 60.3871L8.2 58.2971V59.3921L2.755 60.9071L8.195 62.4221L8.2 63.5221L2.755 65.0371L8.2 66.5521V67.6521L1 65.5571L1 64.5171L6.385 62.9721L1 61.4271V60.3871ZM1 68.991H8.2V70.051L2.85 73.596H8.2V74.656H1V73.596L6.355 70.051H1V68.991Z" fill="#1B1B1B"/>
						</svg>
						<svg width="16" height="22" viewBox="0 0 16 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.22583 18.9229L7.22583 0.733327C7.22583 0.328322 7.57244 0 8 0C8.42757 0 8.77418 0.328322 8.77418 0.733327L8.77418 19.0026C9.32867 18.3244 9.96135 17.5991 10.6292 16.909C11.3077 16.2079 12.0328 15.5323 12.7582 14.9765C13.4752 14.4272 14.2344 13.9623 14.9808 13.7266C15.3864 13.5985 15.8249 13.8062 15.9601 14.1904C16.0953 14.5746 15.8761 14.9899 15.4704 15.118C14.9781 15.2734 14.3869 15.6151 13.7319 16.1169C13.0852 16.6123 12.4169 17.2322 11.7706 17.9C10.4775 19.2362 9.3145 20.721 8.64413 21.6734C8.49692 21.8826 8.24687 22.0058 7.98156 21.9998C7.71625 21.9938 7.47267 21.8595 7.33613 21.644C6.8461 20.8703 5.89621 19.5897 4.66704 18.3145C3.4328 17.034 1.95913 15.8033 0.428123 15.0782C0.0456972 14.8971 -0.109312 14.4566 0.0819014 14.0943C0.273114 13.7321 0.738141 13.5853 1.12057 13.7664C2.89271 14.6057 4.51573 15.9823 5.81047 17.3256C6.33273 17.8674 6.80843 18.411 7.22583 18.9229Z" fill="#1B1B1B"/></svg>

					</a>
				<?php endif;?>
			</div>
		</div>
	</div>
</header><!-- .entry-header -->